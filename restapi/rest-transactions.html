<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Firebase REST</title>
  </head>
  <body>
    <script src="../external/js/jquery.js"></script>
    <script src="../firebase-config.js"></script>
    <script>
     // var firebaseURL = "https://APPNAME.firebaseio.com/bralexie/";
     function sendRequest(type, endpoint, data, success) {
       $.ajax({
         type: type,
         contentType: "application/json; charset=UTF-8",
         dataType: "json",
         url: firebaseURL + endpoint + ".json",
         data: JSON.stringify(data),
         success: success,
       });
     }

     /* sample hard coded
     var data = { "name": "bralexie", "date": "2016-03-24" };        

     $.ajax({
       type: "PUT",
       contentType: "application/json; charset=UTF-8",
       dataType: "json",
       url: "https://hcp-alexie.firebaseio.com/test-rest/samplename/app.json",
       data: JSON.stringify(data),
     });
     */

     function addTransaction(data) {
       sendRequest("POST", "transactions", data);
     }
     
     // addTransaction({ "name": "lunch", "value": 1500 });
     // addTransaction({ "account": "wal", "value": 1000 });

     addTransaction({ "name": "eggs", "value": 720 });
     
     var currentTransactions = sendRequest("GET", "transactions", "", function(data) { console.log(data); } );

    </script>
  </body>
</html>
